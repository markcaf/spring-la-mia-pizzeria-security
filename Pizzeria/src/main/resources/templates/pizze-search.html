<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Bootstrap CSS -->
	<link th:rel="stylesheet" th:href="@{/webjars/bootstrap/5.1.3/css/bootstrap.min.css}"/>
    <title>Cerca una pizza</title>
</head>
<body>
	
	<div class="container">
		<h1 class="text-center">Cerca una pizza</h1>
		<div class="row justify-content-center">
			<div class="col-6">
				<form>
					<label class="form-label">Nome: </label>
					<input class="form-control" type="text" name="q" th:value="${query}">
					<button class="btn btn-primary mt-2 w-100" type="submit" value="SEARCH">Cerca</button>
				</form>
			</div>
		</div>
		<div class="row mt-5">
			<div class="col">
				<table th:if="${!pizze.isEmpty()}" class="table table-light">
					<tr>
						<th>ID</th>
						<th>Nome</th>
						<th>Descrizione</th>
						<th>Prezzo</th>
						<th>Azioni</th>
					</tr>
					<tr th:each="pizza : ${pizze}" th:object="${pizza}">
						<td th:text="*{id}"></td>
						<td th:text="*{nome}"></td>
						<td th:text="*{descrizione}"></td>
						<td th:text="*{prezzo}"></td>
						<td>
							<a th:href="@{/pizza/{id} (id=*{id})}" class="btn btn-sm btn-success">Visualizza</a>
							<a th:href="@{/pizza/update/{id}(id=${pizza.id})}" class="btn btn-sm btn-primary">Modifica</a>
							<a th:href="@{/pizza/delete/{id}(id=${pizza.id})}" class="btn btn-sm btn-danger">Rimuovi</a>
						</td>
					</tr>
				</table>
				<h3 th:if="${pizze.isEmpty()}">Non ci sono pizze al momento</h3>
			</div>
		</div>
		<div class="row">
			<div class="col text-center my-5">
				<a href="/" class="btn btn-sm btn-success text-center">Torna alla Home</a>
			</div>
		</div>
	</div>
    
    <!-- Bootstrap Bundle with Popper -->
	<script th:src="@{/webjars/bootstrap/5.1.3/js/bootstrap.bundle.min.js}"></script>
</body>
</html>

